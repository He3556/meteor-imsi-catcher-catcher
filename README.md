# Overview
`meteor-imsi-catcher-catcher` gives any meteor app the ability to function as an IMSI-catcher-catcher.
If run on the client, the client should use whatever radios at its disposal to create Readings and send to the server.
Detection can either take place on the client and/or the server.
Each client will be responsible for providing a UI.
[StingWatch](https://github.com/marvinmarnold/stingwatch) is the first client under development for Android.
Please make a pull request if you are working on one of your own.

# Usage
````
Meteor.call('catcher/readings/insert', reading, callback(error, readingId){

});
````

# Concepts
## Readings
Atomic unit for a telephony information.


### CommonReadingsSchema
All Readings contain a subschema CommonReadingsSchema, including:
  - readingType: one of,
    - Catcher.READING_TYPES.ANDROID_V1_SIM
    - Catcher.READING_TYPES.ANDROID_V1_GSM
    - Catcher.READING_TYPES.ANDROID_V17_GSM
    - Catcher.READING_TYPES.ANDROID_V17_CDMA
    - Catcher.READING_TYPES.ANDROID_V17_LTE
    - Catcher.READING_TYPES.ANDROID_V17_WCDMA

  - deviceId: Self assigned ID generated by client. In future, may consider protecting this by level of authentication to prevent attacks that insert garabage data.
  - deviceScannerId: Each client could have more than one physical or software components that are capable of creating Readings. In this case, each component should be assigned a unique ID client side.
  - createdAt: automatically added, Date
  - updatedAt: automatically added, Date

### SIMReadings
Store static information that can be pulled from the device SIM. Should be renamed to IdentityReadings or something more general than SIM. Corresponds to reading type `ANDROID_V1_SIM`.

### TelephonyReadings
Store dynamic network information from active connections.
Corresponds to all reading types except `ANDROID_V1_SIM`.

Currently very inefficient as clients send all Readings to the server.
Should implement client side [Storage API](https://cordova.apache.org/docs/en/latest/cordova/storage/storage.html) and reduce information sent to server.

## Basestations
TelephonyReadings with sufficient information will generate or modify a Basestation.
Specifically, a CID is necessary to create a Basestation

## Detectors
`Detectors` use available Readings to determine if the likelihood of the presence of an IMSI-catcher.
Detection is based on a heuristic scoring mechanism.
We use the table below to determine the likelihood of an IMSI-catcher.

| Detector Name  | Description           | Note | Score |
| ------- | ---------------- | ---------------- | ------|
| F3  | Changing LAC | 1st time | +25 |
| F3  | Changing LAC | 2nd time | +25 |


Remember, that even as detection complexity is added to `meteor-imsi-catcher`, that not all clients will benefit from those advances.
If the client is not capable of generating readings that new detections require, they cannot be used.
This may often be the case, for example, as detections are created for rooted phones which are available from unrooted phones.

### F3
Given a Basestation that was last recorded broadcasting on <CID1, LAC1>,
if a subsequent reading with <CID1, LAC2> arrives,
 - if 1st change, +25
 - if 2nd change, +50

## Detections
When Detectors detect an IMSI-catcher, they will generate a Detection.
Detections aggregate information about the Readings & Detectors that created the Detection.
